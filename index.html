<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MVR Market</title>

<style>
body { margin:0; font-family:Arial,sans-serif; background:#f5f5f5; }
header { background:#2e7d32; color:white; padding:15px; text-align:center; }
.container { padding:15px; }

.item {
  background:white; padding:15px; margin-bottom:15px;
  border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1);
}
.item img { width:150px; border-radius:6px; cursor:pointer; }
.price { font-weight:bold; color:#2e7d32; }

select, button, input {
  padding:6px; margin-top:5px; border-radius:5px;
}

button {
  background:#1976d2; color:white; border:none; cursor:pointer;
}

.cart {
  background:#fff8e1; padding:15px; border-radius:8px; margin-top:20px;
}

.cart-item {
  margin-bottom:10px; padding-bottom:8px; border-bottom:1px dashed #ccc;
}

footer {
  background:#2e7d32; color:white; text-align:center;
  padding:15px; margin-top:20px; border-radius:12px 12px 0 0;
}

.small { font-size:13px; color:#555; }
.free { color:green; font-weight:bold; }
.warn { color:#d32f2f; font-weight:bold; }
</style>
</head>

<body>

<header>
  <h1>MVR Market</h1>
  <p>Lowest Prices ‚Ä¢ Best Quality</p>
</header>

<div class="container">

<!-- Sugar -->
<div class="item">
  <h2>Sugar / ‡∞ö‡∞ï‡±ç‡∞ï‡±Ü‡∞∞</h2>
  <img src="images/Sugar.jpeg" onclick="viewImage(this.src)">
  <p class="price">‚Çπ40 per kg</p>
  Qty:
  <select id="sugarQty">
    <option value="1">1 kg</option><option value="2">2 kg</option>
    <option value="3">3 kg</option><option value="4">4 kg</option>
    <option value="5">5 kg</option><option value="6">6 kg</option>
    <option value="7">7 kg</option><option value="8">8 kg</option>
    <option value="9">9 kg</option><option value="10">10 kg</option>
  </select><br>
  <button onclick="addItem('Sugar / ‡∞ö‡∞ï‡±ç‡∞ï‡±Ü‡∞∞',40,document.getElementById('sugarQty').value)">Add to Cart</button>
</div>

<!-- Diapers -->
<div class="item">
  <h2>Reusable Diapers / ‡∞™‡±Å‡∞®‡∞∞‡±ç‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó ‡∞°‡∞Ø‡∞æ‡∞™‡∞∞‡±ç‡∞∏‡±ç</h2>
  <img src="images/ms_6y0zi_512_546541773.jpg" onclick="viewImage(this.src)">
  <p class="price">‚Çπ499 per set</p>
  Qty:
  <select id="diaperQty">
    <option value="1">1 set</option>
    <option value="2">2 sets</option>
    <option value="3">3 sets</option>
  </select><br>
  <button onclick="addItem('Reusable Diapers / ‡∞™‡±Å‡∞®‡∞∞‡±ç‡∞µ‡∞ø‡∞®‡∞ø‡∞Ø‡±ã‡∞ó ‡∞°‡∞Ø‡∞æ‡∞™‡∞∞‡±ç‡∞∏‡±ç',499,document.getElementById('diaperQty').value)">Add to Cart</button>
</div>

<!-- Shirt -->
<div class="item">
  <h2>Men Shirt / ‡∞™‡±Å‡∞∞‡±Å‡∞∑‡±Å‡∞≤ ‡∞ö‡±ä‡∞ï‡±ç‡∞ï‡∞æ</h2>
  <img src="images/Shirt.jpg" onclick="viewImage(this.src)">
  <p class="price">‚Çπ799 per shirt</p>
  Qty:
  <select id="shirtQty">
    <option value="1">1 shirt</option>
    <option value="2">2 shirts</option>
    <option value="3">3 shirts</option>
  </select><br>
  <button onclick="addItem('Men Shirt / ‡∞™‡±Å‡∞∞‡±Å‡∞∑‡±Å‡∞≤ ‡∞ö‡±ä‡∞ï‡±ç‡∞ï‡∞æ',799,document.getElementById('shirtQty').value)">Add to Cart</button>
</div>

<!-- Cart -->
<div class="cart">
  <h3>üõí Cart</h3>
  <div id="cartItems">No items added</div>
  <p><strong>Subtotal: ‚Çπ<span id="subtotal">0</span></strong></p>
  <p id="deliveryMsg" class="small"></p>
  <p><strong>Total: ‚Çπ<span id="total">0</span></strong></p>

  <button onclick="shareWhatsApp()" style="background:#25D366;">Share Order on WhatsApp</button>
</div>

</div>

<footer>
  <p><strong>MVR Market</strong></p>
  <p>This website lists products only. Orders via WhatsApp.</p>
  <p>¬© 2025 MVR Market. All rights reserved.</p>
</footer>

<script>
let cart = [];

function addItem(name, price, qty) {
  qty = parseInt(qty);
  let item = cart.find(i => i.name === name);
  if (item) {
    item.qty += qty;
  } else {
    cart.push({ name, price, qty });
  }
  renderCart();
}

function changeQty(index, delta) {
  cart[index].qty += delta;
  if (cart[index].qty <= 0) cart.splice(index,1);
  renderCart();
}

function updateQty(index, val) {
  cart[index].qty = parseInt(val);
  if (cart[index].qty <= 0) cart.splice(index,1);
  renderCart();
}

function removeItem(index) {
  cart.splice(index,1);
  renderCart();
}

function renderCart() {
  let html = "";
  let subtotal = 0;

  cart.forEach((item,i) => {
    let amt = item.price * item.qty;
    subtotal += amt;
    html += `
      <div class="cart-item">
        <strong>${item.name}</strong><br>
        ‚Çπ${item.price} √ó 
        <input type="number" min="1" value="${item.qty}" onchange="updateQty(${i},this.value)">
        = ‚Çπ${amt}<br>
        <button onclick="changeQty(${i},1)">+</button>
        <button onclick="changeQty(${i},-1)">-</button>
        <button onclick="removeItem(${i})" style="background:#d32f2f;">Remove</button>
      </div>`;
  });

  document.getElementById("cartItems").innerHTML = html || "No items added";
  document.getElementById("subtotal").innerText = subtotal;

  let delivery = subtotal >= 1500 ? 0 : 50;
  let total = subtotal + delivery;

  let msg = delivery === 0
    ? "<span class='free'>üéâ Free Delivery</span>"
    : `<span class='warn'>Add ‚Çπ${1500-subtotal} more for FREE delivery</span>`;

  document.getElementById("deliveryMsg").innerHTML = msg;
  document.getElementById("total").innerText = total;
}

function shareWhatsApp() {
  if (cart.length === 0) { alert("Cart is empty"); return; }
  let text = "Order from MVR Market:%0A";
  let subtotal = 0;

  cart.forEach((i,n)=>{
    let amt=i.price*i.qty; subtotal+=amt;
    text+=`${n+1}. ${i.name} √ó ${i.qty} = ‚Çπ${amt}%0A`;
  });

  let delivery = subtotal>=1500?0:50;
  text+=`%0ASubtotal: ‚Çπ${subtotal}%0ADelivery: ‚Çπ${delivery}%0ATotal: ‚Çπ${subtotal+delivery}`;

  window.open("https://wa.me/919876543210?text="+text,"_blank");
}

function viewImage(src){ window.open(src,"_blank"); }
</script>

</body>
  </html>
